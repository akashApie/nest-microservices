(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{4476:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return r(3527)}])},3526:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var s=r(5893),n=r(7294),a=r(9008),i=r.n(a),c=r(1664),d=r.n(c),l=r(1163),o=r(9635),x=()=>{let e=(0,l.useRouter)(),[t,r]=n.useState(0);return n.useEffect(()=>{let t=()=>{let e=(0,o.dv)();r(e.reduce((e,t)=>e+t.quantity,0))};return t(),window.addEventListener("storage",t),e.events.on("routeChangeComplete",t),()=>{window.removeEventListener("storage",t),e.events.off("routeChangeComplete",t)}},[e.events]),(0,s.jsx)("nav",{className:"bg-white shadow-md",children:(0,s.jsx)("div",{className:"container mx-auto px-4",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,s.jsx)(d(),{href:"/",className:"text-xl font-bold text-blue-600",children:"Microservices Shop"})}),(0,s.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,s.jsx)(d(),{href:"/products",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium h-16 ".concat("/products"===e.pathname?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Products"}),(0,s.jsx)(d(),{href:"/orders",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium h-16 ".concat("/orders"===e.pathname?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:"Orders"})]})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)(d(),{href:"/cart",className:"relative inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md ".concat("/cart"===e.pathname?"bg-blue-100 text-blue-700":"text-gray-500 bg-white hover:bg-gray-100"),children:["Cart",t>0&&(0,s.jsx)("span",{className:"absolute -top-2 -right-2 inline-flex items-center justify-center w-5 h-5 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:t})]})})]})})})},m=r(6501),h=e=>{let{children:t,title:r="Microservices Demo"}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:r}),(0,s.jsx)("meta",{name:"description",content:"Microservices demo with Next.js frontend"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsx)(x,{}),(0,s.jsx)("main",{className:"flex-1 container py-8",children:t}),(0,s.jsx)("footer",{className:"bg-gray-100 py-6",children:(0,s.jsxs)("div",{className:"container text-center text-gray-600 text-sm",children:["\xa9 ",new Date().getFullYear()," Microservices Demo"]})})]}),(0,s.jsx)(m.x7,{position:"bottom-right"})]})}},3527:function(e,t,r){"use strict";r.r(t);var s=r(5893),n=r(7294),a=r(3526),i=r(1664),c=r.n(i),d=r(9635),l=r(6501);t.default=()=>{let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=(0,d.dv)();t(e),i((0,d.I3)())},[]);let o=(e,r)=>{r<1||((0,d.a3)(e,r),t((0,d.dv)()),i((0,d.I3)()),l.ZP.success("Cart updated!"))},x=e=>{(0,d.h2)(e),t((0,d.dv)()),i((0,d.I3)()),l.ZP.success("Item removed from cart!")};return(0,s.jsx)(a.Z,{title:"Cart | Microservices Shop",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Your Shopping Cart"}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Your cart is empty."}),(0,s.jsx)(c(),{href:"/products",className:"btn btn-primary",children:"Browse Products"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.product.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:[e.product.description.substring(0,50),"..."]})]})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:["$",e.product.price.toFixed(2)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>o(e.productId,e.quantity-1),className:"px-2 py-1 bg-gray-200 rounded-l",children:"-"}),(0,s.jsx)("span",{className:"px-4 py-1 bg-gray-100",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>o(e.productId,e.quantity+1),className:"px-2 py-1 bg-gray-200 rounded-r",children:"+"})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"text-sm text-gray-900",children:["$",(e.product.price*e.quantity).toFixed(2)]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsx)("button",{onClick:()=>x(e.productId),className:"text-red-600 hover:text-red-900",children:"Remove"})})]},e.productId))}),(0,s.jsx)("tfoot",{children:(0,s.jsxs)("tr",{className:"bg-gray-50",children:[(0,s.jsx)("td",{colSpan:3,className:"px-6 py-4 text-right font-medium",children:"Cart Total:"}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap font-bold text-lg",children:["$",r.toFixed(2)]}),(0,s.jsx)("td",{})]})})]})}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)(c(),{href:"/products",className:"btn btn-secondary",children:"Continue Shopping"}),(0,s.jsx)(c(),{href:"/checkout",className:"btn btn-primary",children:"Proceed to Checkout"})]})]})]})})}},9635:function(e,t,r){"use strict";r.d(t,{I3:function(){return d},LL:function(){return c},Xq:function(){return n},a3:function(){return a},dv:function(){return s},h2:function(){return i}});let s=()=>{let e=localStorage.getItem("cart");return e?JSON.parse(e):[]},n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=s(),n=r.findIndex(t=>t.productId===e.id);n>=0?r[n].quantity+=t:r.push({productId:e.id,product:e,quantity:t}),localStorage.setItem("cart",JSON.stringify(r))},a=(e,t)=>{let r=s(),n=r.findIndex(t=>t.productId===e);n>=0&&(t<=0?r.splice(n,1):r[n].quantity=t,localStorage.setItem("cart",JSON.stringify(r)))},i=e=>{let t=s(),r=t.filter(t=>t.productId!==e);localStorage.setItem("cart",JSON.stringify(r))},c=()=>{localStorage.setItem("cart",JSON.stringify([]))},d=()=>{let e=s();return e.reduce((e,t)=>e+t.product.price*t.quantity,0)}}},function(e){e.O(0,[949,774,888,179],function(){return e(e.s=4476)}),_N_E=e.O()}]);